---
title: Making Modals
layout: ../layouts/BaseLayout.astro
---

Modals are opened using a LIFO stack (last in first out). A modal can be added to the stack by calling
`openModal(YourModalComponent, props)`. The top modal can be dismissed with `closeModal()`, or
all modals can be dismissed with `closeAllModals()`.

```svelte live
<script>  
  import { openModal, closeModal, modals } from 'svelte-modals'
  import ConfirmModal from '../components/ConfirmModal.svelte'
  
  function openInfiniteModal() {
    openModal(ConfirmModal, {
      message: 'Open another modal? This is modal #' + ($modals.length + 1),
      oncancel: () => closeModal(),
      onconfirm: () => openInfiniteModal()
    })
  }
</script>

<button onclick={openInfiniteModal}>Open</button>
```

## Modal Props

Modal components receive the following props:

```ts
interface ModalProps {
  isOpen: boolean
}
```

`isOpen` is only true for the top modal in the stack. Your modal components should use this
to determine if they should be visible or not. This allows you to maintain state when another modal 
is opened over top of it.

Modals are unmounted when they are removed from the stack (e.g. when `closeModal` is called).

```svelte title="MyModal.svelte"
<script>
  const { isOpen } = $props()  
</script>

{#if isOpen}
  <div role="dialog">
    <!-- ... -->
  </div>
{/if}
```

## Using TypeScript

You can get the modal prop types with `ModalProps`

```svelte title="MyModal.svelte"
<script lang="ts">
  import type { ModalProps } from 'svelte-modals'
  const { isOpen } = $props<ModalProps>()
</script>

{#if isOpen}
  <div role="dialog">
    <!-- ... -->
  </div>
{/if}
```
