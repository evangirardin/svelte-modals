---
title: The Modal Stack
layout: ../layouts/BaseLayout.astro
---
import { Aside } from '@astrojs/starlight/components';

Modals are opened using a "last in first out" stack. If multiple modals are opened,
only the top one is shown and the others will be hidden (by providing an `isOpen` prop to the modal).
If a modal is dismissed the component unmounts and the next one in the stack will be shown.


```svelte live
<script>  
  import { openModal, closeModal, modals } from 'svelte-modals'
  import ConfirmModal from '../components/ConfirmModal.svelte'
  
  function openInfiniteModal() {
    openModal(ConfirmModal, {
      message: 'Open another modal? This is modal #' + ($modals.length + 1),
      oncancel: () => closeModal(),
      onconfirm: () => openInfiniteModal()
    })
  }
</script>

<button onclick={openInfiniteModal}>Open</button>
```

## Opening Modals

Modals can be opened by calling `openModal(YourModalComponent, props)`. The `props` object will be passed to the modal component as props.

```svelte
<script>
  import { openModal } from 'svelte-modals'
  import MyModal from '../components/MyModal.svelte'

  function openMyModal() {
    openModal(MyModal, {
      title: 'Hello, World!',
      message: 'This is a modal.'
    })
  }
</script>
```

## Closing Modals

The top modal can be dismissed with `closeModal()`, or all modals can be dismissed with `closeAllModals()`.

```svelte
<script>
  import { closeModal, closeAllModals } from 'svelte-modals'

  // close 1 modal
  closeModal()

  // close 2 modals
  closeModal(2)

  // close all modals
  closeAllModals()
</script>
```

These can be called anywhere in your app, but it's also OK to call from within a modal component to close itself.

```svelte
<script>
  import { closeModal } from 'svelte-modals'

  const { isOpen, message } = $props()
</script>

{#if isOpen}
  <div>
    <p>{message}</p>
    <div class="actions">
      <button onclick={closeModal}>Close</button>
    </div>
  </div>
{/if}
```
